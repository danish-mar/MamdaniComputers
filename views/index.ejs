<%# layout('layout') removed because it's handled in app.js %>

    <div x-data="{ 
    selectedProduct: null,
    filter: 'all',
    products: [
        { id: 1, name: 'MacBook Pro M3 Max', type: 'new', price: 199900, image: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&q=80&w=1200', desc: 'The most powerful MacBook ever built, featuring the radical M3 Max chip.', specs: ['M3 Max Chip', '36GB Unified Memory', '1TB SSD', '14-inch Liquid Retina XDR'] },
        { id: 2, name: 'Custom Gaming Rig V2', type: 'new', price: 148000, image: 'https://images.unsplash.com/photo-1587202372775-e229f172b9d7?auto=format&fit=crop&q=80&w=1200', desc: 'Crafted for enthusiasts who demand zero compromises in performance.', specs: ['RTX 4080 Super', 'Intel i9-14900K', '64GB DDR5', 'Custom Liquid Cooling'] },
        { id: 3, name: 'iPad Pro M2 (Refurbished)', type: 'used', price: 63900, image: 'https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?auto=format&fit=crop&q=80&w=1200', desc: 'Unmatched performance in an unbelievably thin design.', specs: ['Apple M2 chip', '12.9-inch Display', 'Face ID', 'Apple Pencil Support'] },
        { id: 4, name: 'Dell XPS 13 OLED (Used)', type: 'used', price: 52000, image: 'https://images.unsplash.com/photo-1593642632823-8f785ba67e45?auto=format&fit=crop&q=80&w=1200', desc: 'Portable power with a stunning 4K OLED touch display.', specs: ['Intel i7', '16GB RAM', '512GB SSD', '4K OLED Touch'] },
        { id: 5, name: 'Apple Studio Display', type: 'new', price: 127900, image: 'https://images.unsplash.com/photo-1527443224154-c4a3942d3acf?auto=format&fit=crop&q=80&w=1200', desc: 'A window into a whole new world. 5K Retina display.', specs: ['5K Resolution', '12MP Camera', '6-Speaker System', 'A13 Bionic Chip'] },
        { id: 6, name: 'Lenovo ThinkPad X1 (Used)', type: 'used', price: 71900, image: 'https://images.unsplash.com/photo-1588872657578-7efd1f1555ed?auto=format&fit=crop&q=80&w=1200', desc: 'Legendary reliability with a modern, ultra-slim profile.', specs: ['Intel i7 vPro', '32GB RAM', '1TB SSD', 'Carbon Fiber Chassis'] }
    ],
    get filteredProducts() {
        if (this.filter === 'all') return this.products;
        return this.products.filter(p => p.type === this.filter);
    }
}">
        <!-- Product Detail Modal -->
        <template x-teleport="body">
            <div x-show="selectedProduct" class="fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6"
                x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0"
                x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-200"
                x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" x-cloak>
                <div class="absolute inset-0 bg-black/40 backdrop-blur-xl" @click="selectedProduct = null"></div>
                <div class="relative bg-white w-full max-w-5xl rounded-[3rem] overflow-hidden shadow-2xl flex flex-col md:flex-row"
                    x-show="selectedProduct" x-transition:enter="transition ease-out duration-500 scale-90"
                    x-transition:enter-start="scale-90 opacity-0" x-transition:enter-end="scale-100 opacity-100">
                    <div class="w-full md:w-1/2 aspect-square md:aspect-auto overflow-hidden bg-apple-gray">
                        <img :src="selectedProduct?.image" :alt="selectedProduct?.name"
                            class="w-full h-full object-cover">
                    </div>
                    <div class="w-full md:w-1/2 p-10 md:p-16 flex flex-col justify-center">
                        <div class="mb-4">
                            <span x-text="selectedProduct?.type === 'new' ? 'Brand New' : 'Certified Refurbished'"
                                class="text-[10px] font-bold tracking-[0.2em] uppercase text-apple-blue py-1 px-3 bg-blue-50 rounded-full"></span>
                        </div>
                        <h2 class="text-4xl font-bold text-apple-dark mb-6" x-text="selectedProduct?.name"></h2>
                        <p class="text-gray-500 text-lg mb-8 leading-relaxed" x-text="selectedProduct?.desc"></p>

                        <div class="grid grid-cols-2 gap-4 mb-10">
                            <template x-for="spec in selectedProduct?.specs">
                                <div class="flex items-center space-x-3 text-sm text-apple-dark font-medium">
                                    <div class="w-2 h-2 rounded-full bg-apple-blue"></div>
                                    <span x-text="spec"></span>
                                </div>
                            </template>
                        </div>

                        <div class="flex items-center justify-between mt-auto">
                            <span class="text-3xl font-bold text-apple-dark"
                                x-text="'₹' + selectedProduct?.price.toLocaleString('en-IN')"></span>
                            <button @click="selectedProduct = null"
                                class="px-8 py-4 bg-apple-dark text-white rounded-full font-bold hover:bg-black transition-all">
                                Close
                            </button>
                        </div>
                    </div>
                    <button @click="selectedProduct = null"
                        class="absolute top-8 right-8 w-10 h-10 flex items-center justify-center rounded-full bg-apple-gray text-apple-dark hover:bg-gray-200 transition-colors">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </template>

        <!-- Hero Section -->
        <section class="relative min-h-screen flex items-center justify-center overflow-hidden pt-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <div class="reveal-on-scroll">
                    <span
                        class="inline-block py-1 px-4 bg-apple-blue/10 text-apple-blue text-xs font-bold tracking-widest uppercase rounded-full mb-8">Next-Gen
                        Computing</span>
                    <h1 class="text-6xl md:text-8xl font-black tracking-tighter text-apple-dark mb-8 leading-[1]">
                        Powerfully <br>
                        <span class="gradient-text">Personal.</span>
                    </h1>
                    <p class="mt-8 max-w-2xl mx-auto text-xl md:text-2xl text-gray-400 font-light leading-relaxed">
                        Mamdani Computers delivers elite hardware and surgical-grade repairs for the modern
                        professional.
                    </p>
                    <div class="mt-12 flex flex-col sm:flex-row justify-center items-center gap-6">
                        <a href="#store"
                            class="group px-10 py-5 bg-apple-dark text-white rounded-full font-bold text-lg hover:bg-black transition-all flex items-center">
                            Visit Store
                            <i class="fas fa-arrow-right ml-3 transition-transform group-hover:translate-x-2"></i>
                        </a>
                        <a href="/services" class="text-apple-blue font-bold text-lg hover:underline transition-all">
                            Our Repair Lab
                        </a>
                    </div>
                </div>
            </div>
            <!-- Decorative Elements -->
            <div
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150%] h-[150%] bg-[radial-gradient(circle_at_center,rgba(0,113,227,0.03)_0%,transparent_70%)] -z-10">
            </div>
        </section>

        <!-- Bento Feature Section -->
        <section class="py-32 bg-white relative">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <!-- Large Card -->
                    <div
                        class="reveal-on-scroll md:col-span-2 md:row-span-2 bento-card p-12 bg-[#fafafa] flex flex-col justify-center">
                        <div
                            class="w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center text-apple-blue text-3xl mb-8">
                            <i class="fas fa-microchip"></i>
                        </div>
                        <h3 class="text-3xl font-bold mb-4">Precision Components</h3>
                        <p class="text-gray-500 text-lg leading-relaxed">We source only Tier-1 parts directly from
                            manufacturers. Every component is rigorously tested for the "Mamdani Standard" before it
                            reaches your machine.</p>
                    </div>
                    <!-- Tall Card -->
                    <div class="reveal-on-scroll md:col-span-2 bento-card p-12 bg-apple-blue text-white overflow-hidden relative"
                        style="transition-delay: 100ms;">
                        <div class="relative z-10">
                            <h3 class="text-3xl font-bold mb-4">Mamdani Cloud™</h3>
                            <p class="text-blue-100 text-lg leading-relaxed">Exclusive software optimizations for every
                                build we deliver.</p>
                        </div>
                        <div class="absolute -bottom-10 -right-10 w-48 h-48 bg-white/10 rounded-full blur-3xl"></div>
                    </div>
                    <!-- Small Card 1 -->
                    <div class="reveal-on-scroll bento-card p-8 bg-apple-gray group" style="transition-delay: 200ms;">
                        <div class="text-2xl text-apple-dark mb-4 transition-transform group-hover:scale-110">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4 class="font-bold text-xl">Privacy First</h4>
                        <p class="text-gray-500 text-sm mt-2">Surgical repairs with 100% data zero-touch protocols.</p>
                    </div>
                    <!-- Small Card 2 -->
                    <div class="reveal-on-scroll bento-card p-8 bg-apple-gray group" style="transition-delay: 300ms;">
                        <div class="text-2xl text-accent-500 mb-4 transition-transform group-hover:scale-110">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <h4 class="font-bold text-xl">Eco System</h4>
                        <p class="text-gray-500 text-sm mt-2">Zero-waste refurbishment for a greener planet.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- horizontal store section -->
        <section id="store" class="py-32 overflow-hidden bg-[#fbfbfd]">
            <div
                class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-16 flex flex-col md:flex-row justify-between items-end gap-8">
                <div class="reveal-on-scroll">
                    <h2 class="text-5xl md:text-6xl font-black text-apple-dark mb-4">The Store.</h2>
                    <p class="text-2xl text-gray-400 font-light">Explore the latest in high-performance computing.</p>
                </div>
                <!-- Interactive Filters -->
                <div
                    class="reveal-on-scroll flex flex-col md:flex-row items-center gap-4 bg-apple-gray p-1 rounded-full shrink-0">
                    <div class="flex">
                        <button @click="filter = 'all'"
                            :class="filter === 'all' ? 'bg-white shadow-sm font-bold text-apple-dark' : 'text-gray-500'"
                            class="px-8 py-3 rounded-full text-sm transition-all duration-300">All</button>
                        <button @click="filter = 'new'"
                            :class="filter === 'new' ? 'bg-white shadow-sm font-bold text-apple-dark' : 'text-gray-500'"
                            class="px-8 py-3 rounded-full text-sm transition-all duration-300">New</button>
                        <button @click="filter = 'used'"
                            :class="filter === 'used' ? 'bg-white shadow-sm font-bold text-apple-dark' : 'text-gray-500'"
                            class="px-8 py-3 rounded-full text-sm transition-all duration-300">Refurbished</button>
                    </div>
                    <a href="/products"
                        class="hidden md:flex px-6 py-3 text-apple-blue font-bold text-sm hover:underline items-center">
                        Full Catalog <i class="fas fa-external-link-alt ml-2 text-xs"></i>
                    </a>
                </div>
            </div>

            <!-- Horizontal Scroll Rack -->
            <div class="relative group">
                <div class="flex overflow-x-auto space-x-8 px-[calc(50vw-640px)] scrollbar-hide snap-x"
                    style="scrollbar-width: none; -ms-overflow-style: none;">
                    <template x-for="product in filteredProducts" :key="product.id">
                        <div class="snap-center shrink-0 w-[400px] group/card cursor-pointer"
                            @click="selectedProduct = product">
                            <div class="bento-card aspect-[4/5] relative bg-white overflow-hidden">
                                <img :src="product.image" :alt="product.name"
                                    class="w-full h-full object-cover transition-transform duration-1000 group-hover/card:scale-110">
                                <div
                                    class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover/card:opacity-100 transition-opacity duration-500">
                                </div>
                                <div
                                    class="absolute bottom-8 left-8 text-white opacity-0 translate-y-4 group-hover/card:opacity-100 group-hover/card:translate-y-0 transition-all duration-500">
                                    <span class="text-xs font-bold uppercase tracking-widest mb-2 block"
                                        x-text="product.type === 'new' ? 'New Arrival' : 'Best Seller'"></span>
                                    <h4 class="text-2xl font-bold" x-text="product.name"></h4>
                                </div>
                            </div>
                            <div class="mt-6 px-4">
                                <h4 class="text-xl font-bold text-apple-dark mb-2" x-text="product.name"></h4>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 font-medium"
                                        x-text="'₹' + product.price.toLocaleString('en-IN')"></span>
                                    <span
                                        class="text-apple-blue font-bold text-sm transform transition-transform group-hover/card:translate-x-2">Learn
                                        more <i class="fas fa-chevron-right ml-1"></i></span>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
                <!-- Custom Scroll Indicator/Guide -->
                <div class="mt-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="w-full h-[2px] bg-apple-gray relative">
                        <div class="absolute top-0 left-0 h-full bg-apple-blue transition-all duration-300"
                            style="width: 20%;"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTAs & Footer-like CTA -->
        <section class="py-48 bg-white relative overflow-hidden">
            <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <div class="reveal-on-scroll">
                    <h2 class="text-5xl md:text-7xl font-black text-apple-dark mb-12">Built for the <br> <span
                            class="gradient-text">Uncompromising.</span></h2>
                    <div class="flex flex-col sm:flex-row justify-center gap-6">
                        <a href="/contact"
                            class="px-12 py-6 bg-apple-dark text-white rounded-full font-bold text-xl hover:scale-105 transition-all shadow-xl shadow-black/10">Start
                            a Project</a>
                        <a href="/services"
                            class="px-12 py-6 bg-apple-gray text-apple-dark rounded-full font-bold text-xl hover:bg-gray-200 transition-all">Explore
                            Repair Lab</a>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <style>
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>